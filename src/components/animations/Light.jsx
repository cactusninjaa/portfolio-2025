import { motion } from 'framer-motion';
import React, { useState, useEffect } from 'react';

// Composant Light avec animations
export function Light() {
   
    // Variantes pour l'animation de balancement
    const swingAnimation = {
        animate: {
            rotate: [0, 3, 0, -4, 0],
            transition: {
                duration: 4,
                ease: "easeInOut",
                repeat: Infinity,
            }
        }
    };
    
    return (
        <motion.div
            variants={swingAnimation}
            animate="animate"
            style={{ transformOrigin: "top center" }}
            className="w-full h-full"
        >
            <motion.svg
                className="w-full h-full"
                viewBox="0 0 300 600"
                preserveAspectRatio="none"
            >
                {/* Filtre pour l'effet de lueur */}
       
                
                {/* Corps de la lampe - statique */}
                <path d="M73.9599 51.2156C68.7307 51.7707 64.7339 53.2153 61.6914 55.3866C58.6502 57.557 56.5484 60.4632 55.1231 63.9621C52.2674 70.973 52.1341 80.3457 52.6079 90.895C52.8453 96.1802 52.8719 100.92 53.1686 105.096C53.4649 109.268 54.029 112.839 55.3293 115.763C56.6263 118.68 58.6584 120.959 61.9063 122.545C65.1606 124.135 69.6455 125.034 75.8537 125.166C86.9712 124.232 93.2574 120.468 96.4887 114.166C99.533 108.229 99.8914 99.9964 98.9238 89.6276L98.7131 87.5249L98.7126 87.5132C98.4755 82.2358 98.3232 77.2063 97.8477 72.653C97.3723 68.1001 96.5745 64.0415 95.053 60.7063C93.5336 57.376 91.2939 54.7683 87.9284 53.1098C84.5593 51.4496 80.044 50.7314 73.9599 51.2156Z" fill="#8A3D22" stroke="#050608" strokeWidth="0.4"/>
                
                {/* Détails de la lampe */}
                <mask id="path-3-inside-1_23_3274" fill="white">
                    <path d="M97.3008 102.275C94.4485 111.903 88.2779 117.03 83.6182 119.039C83.6504 119.19 83.6808 119.346 83.7079 119.507C83.8108 120.119 83.8193 120.684 83.7471 121.205C91.4348 119.067 96.0321 112.513 97.3008 102.275ZM56.651 97.7236C54.7122 110.705 58.2774 119.602 67.2998 123.438C67.1203 123.091 66.9929 122.721 66.9272 122.33C66.7587 121.329 66.6451 120.498 66.6515 119.797C61.8923 116.202 56.8827 109.08 56.651 97.7236ZM85.6612 73.4614C89.89 94.395 84.8424 108.944 80.1294 115.195C81.4697 115.477 82.3703 116.117 82.9597 117.173C91.1741 107.492 91.9819 92.4143 85.6612 73.4614ZM67.3191 103.701C67.419 108.763 68.2845 113.019 69.8964 116.376C70.4443 116.209 71.0765 116.051 71.8041 115.896C69.8456 112.887 68.1407 108.863 67.3191 103.701Z"/>
                </mask>
                <path d="M97.3008 102.275C94.4485 111.903 88.2779 117.03 83.6182 119.039C83.6504 119.19 83.6808 119.346 83.7079 119.507C83.8108 120.119 83.8193 120.684 83.7471 121.205C91.4348 119.067 96.0321 112.513 97.3008 102.275ZM56.651 97.7236C54.7122 110.705 58.2774 119.602 67.2998 123.438C67.1203 123.091 66.9929 122.721 66.9272 122.33C66.7587 121.329 66.6451 120.498 66.6515 119.797C61.8923 116.202 56.8827 109.08 56.651 97.7236ZM85.6612 73.4614C89.89 94.395 84.8424 108.944 80.1294 115.195C81.4697 115.477 82.3703 116.117 82.9597 117.173C91.1741 107.492 91.9819 92.4143 85.6612 73.4614ZM67.3191 103.701C67.419 108.763 68.2845 113.019 69.8964 116.376C70.4443 116.209 71.0765 116.051 71.8041 115.896C69.8456 112.887 68.1407 108.863 67.3191 103.701Z" fill="#723319"/>
                <path d="M97.3008 102.275L97.109 102.218L97.4993 102.3L97.3008 102.275ZM83.6182 119.039L83.4226 119.08L83.3886 118.92L83.5391 118.855L83.6182 119.039ZM83.7079 119.507L83.9051 119.474L83.9051 119.474L83.7079 119.507ZM83.7471 121.205L83.8007 121.398L83.5073 121.48L83.549 121.178L83.7471 121.205ZM56.651 97.7236L56.4532 97.694L56.851 97.7195L56.651 97.7236ZM67.2998 123.438L67.4775 123.346L67.732 123.839L67.2215 123.622L67.2998 123.438ZM66.9272 122.33L66.73 122.363L66.73 122.363L66.9272 122.33ZM66.6515 119.797L66.772 119.637L66.8524 119.698L66.8514 119.799L66.6515 119.797ZM85.6612 73.4614L85.4652 73.501L85.8509 73.3981L85.6612 73.4614ZM80.1294 115.195L80.0882 115.391L79.7803 115.326L79.9697 115.075L80.1294 115.195ZM82.9597 117.173L83.1122 117.302L82.9256 117.522L82.785 117.27L82.9597 117.173ZM67.3191 103.701L67.1191 103.705L67.5166 103.67L67.3191 103.701ZM69.8964 116.376L69.9546 116.567L69.7904 116.617L69.7161 116.463L69.8964 116.376ZM71.8041 115.896L71.9717 115.787L72.1305 116.031L71.8458 116.091L71.8041 115.896ZM97.3008 102.275L97.4926 102.332C94.6225 112.02 88.4086 117.191 83.6974 119.222L83.6182 119.039L83.5391 118.855C88.1471 116.869 94.2745 111.787 97.109 102.218L97.3008 102.275ZM83.6182 119.039L83.8139 118.997C83.8465 119.151 83.8775 119.309 83.9051 119.474L83.7079 119.507L83.5107 119.54C83.4842 119.382 83.4543 119.229 83.4226 119.08L83.6182 119.039ZM83.7079 119.507L83.9051 119.474C84.0112 120.104 84.0204 120.689 83.9453 121.233L83.7471 121.205L83.549 121.178C83.6181 120.678 83.6105 120.133 83.5107 119.54L83.7079 119.507ZM83.7471 121.205L83.6935 121.013C91.2769 118.903 95.8396 112.44 97.1023 102.251L97.3008 102.275L97.4993 102.3C96.2245 112.586 91.5928 119.231 83.8007 121.398L83.7471 121.205ZM56.651 97.7236L56.8488 97.7531C55.8827 104.222 56.2914 109.652 58.0499 113.934C59.8061 118.211 62.9139 121.356 67.378 123.254L67.2998 123.438L67.2215 123.622C62.6632 121.684 59.4772 118.463 57.6799 114.086C55.885 109.716 55.4805 104.207 56.4532 97.694L56.651 97.7236ZM67.2998 123.438L67.1221 123.53C66.9337 123.165 66.7993 122.775 66.73 122.363L66.9272 122.33L67.1244 122.297C67.1865 122.666 67.3069 123.016 67.4775 123.346L67.2998 123.438ZM66.9272 122.33L66.73 122.363C66.5614 121.362 66.4449 120.515 66.4515 119.795L66.6515 119.797L66.8514 119.799C66.8452 120.48 66.9559 121.295 67.1244 122.297L66.9272 122.33ZM66.6515 119.797L66.5309 119.957C61.7235 116.326 56.684 109.146 56.4511 97.7276L56.651 97.7236L56.851 97.7195C57.0813 109.014 62.0611 116.079 66.772 119.637L66.6515 119.797ZM85.6612 73.4614L85.8572 73.4218C90.0951 94.4003 85.0429 109.01 80.2891 115.315L80.1294 115.195L79.9697 115.075C84.6419 108.878 89.6849 94.3898 85.4652 73.501L85.6612 73.4614ZM80.1294 115.195L80.1706 114.999C81.5608 115.292 82.5135 115.963 83.1343 117.075L82.9597 117.173L82.785 117.27C82.227 116.271 81.3786 115.662 80.0882 115.391L80.1294 115.195ZM82.9597 117.173L82.8072 117.043C90.9535 107.443 91.7842 92.4537 85.4715 73.5246L85.6612 73.4614L85.8509 73.3981C92.1796 92.3749 91.3947 107.541 83.1122 117.302L82.9597 117.173ZM67.3191 103.701L67.5191 103.697C67.6186 108.74 68.4808 112.966 70.0767 116.29L69.8964 116.376L69.7161 116.463C68.0882 113.072 67.2194 108.786 67.1191 103.705L67.3191 103.701ZM69.8964 116.376L69.8382 116.185C70.3931 116.016 71.031 115.856 71.7623 115.7L71.8041 115.896L71.8458 116.091C71.122 116.246 70.4956 116.403 69.9546 116.567L69.8964 116.376ZM71.8041 115.896L71.6365 116.005C69.6623 112.972 67.9475 108.921 67.1216 103.733L67.3191 103.701L67.5166 103.67C68.3339 108.805 70.029 112.802 71.9717 115.787L71.8041 115.896Z" fill="black" mask="url(#path-3-inside-1_23_3274)"/>
                
                {/* Base de la lampe */}
                <path d="M74.3904 115.412C66.5246 116.735 66.154 117.742 66.9261 122.33C67.4379 125.372 71.6097 127.206 76.2436 126.426C80.8776 125.646 84.4027 123.637 83.7078 119.507C83.0127 115.377 80.6831 114.353 74.3904 115.412ZM73.1643 124.086C73.2812 123.576 73.9682 123.722 74.8288 123.844C75.6892 123.965 76.3981 124.016 76.2813 124.525C76.1644 125.035 75.4774 124.89 74.617 124.769C73.7566 124.647 73.0476 124.596 73.1643 124.086ZM79.3552 122.277C79.4132 122.026 79.6815 122.017 80.0508 122.062L80.8502 122.175C81.2166 122.234 81.464 122.315 81.4063 122.567C81.3293 122.902 80.8777 122.807 80.3113 122.727C79.7447 122.647 79.2782 122.613 79.3552 122.277ZM71.5697 121.078C72.4384 120.931 72.6875 121.312 72.7729 121.819C72.8582 122.326 72.6703 122.308 71.8014 122.455C70.9327 122.601 70.2368 122.767 70.1515 122.26C70.0665 121.753 70.7012 121.224 71.5697 121.078ZM70.537 118.812C74.9654 117.367 79.4034 118.629 81.4569 119.619L81.835 119.812C81.8863 119.84 81.9293 119.865 81.9636 119.887C81.9943 119.907 82.0305 119.932 82.0582 119.961C82.0688 119.972 82.1014 120.007 82.1163 120.06C82.125 120.091 82.1307 120.137 82.1128 120.186C82.0947 120.236 82.06 120.268 82.0298 120.287C81.9796 120.319 81.9286 120.321 81.9138 120.321C81.8918 120.322 81.8712 120.32 81.8557 120.317C81.7478 120.301 81.5461 120.23 81.3414 120.138C79.1804 119.174 74.7111 118.02 70.6608 119.654C70.6003 119.678 70.5404 119.705 70.4714 119.735C70.4046 119.765 70.3305 119.796 70.2552 119.821C70.1056 119.872 69.9277 119.909 69.7383 119.863L69.6859 119.846C69.6319 119.824 69.5733 119.783 69.5378 119.713C69.5035 119.645 69.5057 119.578 69.5175 119.527L69.5327 119.482C69.6208 119.253 69.8045 119.112 69.9874 119.019C70.1673 118.926 70.3767 118.865 70.537 118.812Z" fill="#050608"/>
                
                {/* Partie supérieure de la lampe */}
                <path d="M75.8292 38.2484C76.3428 40.3787 76.3602 42.9802 76.1656 45.3565C76.0253 47.0697 75.775 48.6571 75.527 49.8539C75.1679 50.1902 74.5707 50.6575 73.8693 51.0251C73.8947 51.0223 73.9205 51.0188 73.946 51.0161C75.1406 50.921 76.2757 50.8732 77.3545 50.8684C76.6669 50.6435 76.1977 50.178 75.9465 49.7982C76.1887 48.6013 76.4281 47.053 76.5643 45.3894C76.7603 42.9957 76.7466 40.3456 76.2185 38.1551L75.8292 38.2484Z" fill="#050608"/>
                
                {/* Effets de lueur */}
                <defs>
                    <filter id="filter0_f_23_3274" x="0.556641" y="0.510254" width="150.086" height="175.681" filterUnits="userSpaceOnUse" colorInterpolationFilters="sRGB">
                        <feFlood floodOpacity="0" result="BackgroundImageFix"/>
                        <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                        <feGaussianBlur stdDeviation="25" result="effect1_foregroundBlur_23_3274"/>
                    </filter>
                </defs>
            </motion.svg>
        </motion.div>
    );
}

// Composant principal qui contient à la fois la lampe et la branche
export default function LampAndBranch() {
    return (
        <div className="relative w-full">
            <div className="relative">
                {/* La lampe - en position relative et qui s'adapte à la taille */}
                <div className="absolute top-38 -right-20  z-10" style={{ transformOrigin: "top center" }}>
                    <Light />
                </div>
                
                {/* La branche - maintient le rapport largeur/hauteur */}
                <motion.svg 
                    className="w-full"
                    viewBox="0 0 440 400"
                    preserveAspectRatio="none"
                >
                    <path 
                        d="M93.756 261.767L101.437 259.367L109.79 256.14L121.253 257.746C121.551 257.845 121.833 257.961 122.098 258.11L145.92 271.165L155.588 275.037L174.725 268.369C174.841 267.938 187.226 266.987 187.425 266.606L242.582 270.47L272.678 267.872C273.523 267.806 274.367 267.872 275.178 268.104L290.061 272.307C290.359 272.389 290.64 272.522 290.922 272.654L307.956 277.188L317.972 283.773L374.539 321.235L414.034 337.074L407.93 325.47C407.483 324.61 407.185 323.7 407.069 322.74L405.115 307.716L400 298.218L392.65 292.642C392.418 292.477 392.236 292.262 392.087 292.03L386.475 283.045L385.157 280.757L382.998 278.909L380.648 274.276L364.226 249.324L353.117 242.01L345.767 231.917L344.807 231.619L333.07 228.856H333.02L320.885 230.229L307.84 230.841L307.83 230.841C307.469 230.824 307.092 230.807 306.748 230.709L301.185 229.12L295.209 228.955L282.115 226.688L244.105 221.029H244.089L231.408 218.977L207.106 210.903L194.723 211.532C194.408 211.581 194.11 211.498 193.829 211.399L182.389 207.362L169.907 206.584L157.028 204.863L144.612 205.442C143.238 205.591 142.228 204.499 142.178 203.209C142.112 201.918 143.122 200.826 144.413 200.776L157.243 200.214L170.371 201.935L183.019 202.712C183.234 202.729 183.449 202.779 183.648 202.845L194.954 206.849L207.321 206.22C207.635 206.187 207.917 206.237 208.182 206.336L235.712 214.414L232.997 210.489L183.879 169.917C183.598 169.669 183.383 169.371 183.234 169.024L173.433 145.313C173.318 145.015 173.251 144.7 173.268 144.369L173.665 132.059L168.682 120.807C168.169 119.649 168.699 118.309 169.841 117.796C171 117.283 172.341 117.812 172.854 118.954L178.036 130.686C178.185 131 178.251 131.331 178.234 131.678L177.837 144.005L187.223 166.74L242.417 212.342L247.549 214.295L253.458 216.247L260.676 217.372L270.261 214.791C270.626 214.692 271.006 214.675 271.371 214.742L281.37 216.562L297.014 220.88L304.662 223.048L308.221 223.131L326.067 222.8L332.888 222.022C333.285 221.989 333.666 222.006 334.046 222.088L336.265 222.618L341.231 222.535L339.46 217.108L337.076 212.21L326.001 193.794L287.66 159.443C287.081 158.93 286.634 158.285 286.353 157.557L281.701 145.66L279.664 142.798L275.973 137.602L259.815 114.751L245.578 93.274L240.447 80.6822C240.298 80.3347 240.215 79.9541 240.182 79.5736L239.238 67.2796L226.607 31.4399C226.458 31.0263 226.375 30.5795 226.392 30.1162L226.673 17.2927L224.078 5.52288C223.78 4.02867 223.899 0.86094 226.763 0.143718C230.343 -0.75281 231.342 2.75644 231.755 4.81646L234.123 16.6143L233.841 29.4378L246.472 65.2774C246.572 65.5918 246.638 65.9062 246.671 66.2371L247.598 78.4484L252.167 89.8324L265.99 110.549L285.69 138.462L293.454 148.291L295.226 152.825L311.052 166.989L347.638 210.39L349.144 214.56L353.664 221.244L356.379 225.298L361.726 227.449L380.366 245.088L390.034 253.063C390.398 253.378 390.713 253.725 390.978 254.122L393.974 258.722L399.056 266.532L410.645 284.303L421.822 295.015L426.09 299.923L426.521 302.008L440.923 322.84C441.271 323.336 441.486 323.882 441.552 324.478L442.711 334.19L453.803 351.217C453.902 351.299 454.001 351.415 454.101 351.515C454.217 351.63 454.349 351.713 454.465 351.829L498.687 397.082L526 417.296L498.55 443L495.57 438.334L461.55 403.52L456.12 398.01L432.232 373.555C431.172 372.462 428.432 367.97 427.753 366.68L298.173 292.493L285.492 285.527L272.612 281.887L243.079 284.435C242.599 284.485 242.119 284.468 241.655 284.419L181.711 277.37L155.455 286.206C154.76 286.206 154.081 286.073 153.435 285.809L141.301 280.927L117.297 267.823L105.742 263.868L94.3686 267.426C94.1037 267.508 93.8222 267.558 93.5408 267.558C93.1601 267.558 92.7627 267.475 92.3985 267.31L36.5598 242.01C36.2452 241.861 35.9472 241.663 35.6989 241.398L27.2395 232.562L3.91403 223.395C2.13214 222.792 -1.0737 221.048 0.358109 218.897C2.14787 216.207 4.88381 217.774 5.96681 218.2L29.8551 227.598C30.2359 227.731 30.567 227.962 30.8484 228.26L39.3741 237.129L93.756 261.767Z" 
                        fill="#050608"
                    />
                </motion.svg>
            </div>
        </div>
    );
}